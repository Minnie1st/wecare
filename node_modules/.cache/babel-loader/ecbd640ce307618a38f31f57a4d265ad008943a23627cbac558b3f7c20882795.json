{"ast":null,"code":"var _jsxFileName = \"/Users/minnie/Desktop/wecare/src/components/ImageUploader.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploaderContainer = styled.div`\n  margin-bottom: 20px;\n`;\n_c = UploaderContainer;\nconst UploadLabel = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n`;\n_c2 = UploadLabel;\nconst UploadArea = styled.div`\n  border: 2px dashed #ddd;\n  border-radius: 8px;\n  padding: 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background-color: #f9f9f9;\n  \n  &:hover {\n    border-color: var(--primary-color);\n    background-color: #f0f0f0;\n  }\n`;\n_c3 = UploadArea;\nconst UploadInput = styled.input`\n  display: none;\n`;\n_c4 = UploadInput;\nconst UploadText = styled.p`\n  margin: 0;\n  color: var(--text-secondary);\n`;\n_c5 = UploadText;\nconst ImagePreviewContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-top: 15px;\n`;\n_c6 = ImagePreviewContainer;\nconst ImagePreview = styled.div`\n  position: relative;\n  width: 100px;\n  height: 100px;\n  border-radius: 4px;\n  overflow: hidden;\n`;\n_c7 = ImagePreview;\nconst PreviewImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n`;\n_c8 = PreviewImage;\nconst RemoveButton = styled.button`\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 12px;\n  padding: 0;\n  line-height: 1;\n  \n  &:hover {\n    background-color: rgba(0, 0, 0, 0.7);\n  }\n`;\n_c9 = RemoveButton;\nfunction ImageUploader({\n  onChange,\n  maxImages = 5,\n  label\n}) {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [images, setImages] = useState([]);\n\n  // 如果没有提供label，则使用默认的翻译\n  const imageLabel = label || t('imageUploader.uploadImage');\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    if (images.length + files.length > maxImages) {\n      alert(`最多只能上传${maxImages}张图片`);\n      return;\n    }\n    const newImages = files.map(file => ({\n      file,\n      preview: URL.createObjectURL(file)\n    }));\n    const updatedImages = [...images, ...newImages];\n    setImages(updatedImages);\n    if (onChange) {\n      onChange(updatedImages.map(img => img.file));\n    }\n  };\n  const removeImage = index => {\n    const updatedImages = [...images];\n    URL.revokeObjectURL(updatedImages[index].preview);\n    updatedImages.splice(index, 1);\n    setImages(updatedImages);\n    if (onChange) {\n      onChange(updatedImages.map(img => img.file));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(UploaderContainer, {\n    children: [/*#__PURE__*/_jsxDEV(UploadLabel, {\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UploadArea, {\n      children: [/*#__PURE__*/_jsxDEV(UploadInput, {\n        type: \"file\",\n        id: \"image-upload\",\n        accept: \"image/*\",\n        multiple: true,\n        onChange: handleImageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UploadText, {\n        children: [\"\\u70B9\\u51FB\\u6216\\u62D6\\u62FD\\u56FE\\u7247\\u5230\\u6B64\\u5904\\u4E0A\\u4F20 (\\u6700\\u591A\", maxImages, \"\\u5F20)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), images.length > 0 && /*#__PURE__*/_jsxDEV(ImagePreviewContainer, {\n      children: images.map((image, index) => /*#__PURE__*/_jsxDEV(ImagePreview, {\n        children: [/*#__PURE__*/_jsxDEV(PreviewImage, {\n          src: image.preview,\n          alt: `预览图 ${index + 1}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(RemoveButton, {\n          onClick: () => removeImage(index),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n}\n_s(ImageUploader, \"efMJb5HWauYa5mZnu42ixIYO7xI=\", false, function () {\n  return [useTranslation];\n});\n_c10 = ImageUploader;\nexport default ImageUploader;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n$RefreshReg$(_c, \"UploaderContainer\");\n$RefreshReg$(_c2, \"UploadLabel\");\n$RefreshReg$(_c3, \"UploadArea\");\n$RefreshReg$(_c4, \"UploadInput\");\n$RefreshReg$(_c5, \"UploadText\");\n$RefreshReg$(_c6, \"ImagePreviewContainer\");\n$RefreshReg$(_c7, \"ImagePreview\");\n$RefreshReg$(_c8, \"PreviewImage\");\n$RefreshReg$(_c9, \"RemoveButton\");\n$RefreshReg$(_c10, \"ImageUploader\");","map":{"version":3,"names":["React","useState","styled","useTranslation","jsxDEV","_jsxDEV","UploaderContainer","div","_c","UploadLabel","label","_c2","UploadArea","_c3","UploadInput","input","_c4","UploadText","p","_c5","ImagePreviewContainer","_c6","ImagePreview","_c7","PreviewImage","img","_c8","RemoveButton","button","_c9","ImageUploader","onChange","maxImages","_s","t","images","setImages","imageLabel","handleImageChange","e","files","Array","from","target","length","alert","newImages","map","file","preview","URL","createObjectURL","updatedImages","removeImage","index","revokeObjectURL","splice","children","fileName","_jsxFileName","lineNumber","columnNumber","type","id","accept","multiple","image","src","alt","onClick","_c10","$RefreshReg$"],"sources":["/Users/minnie/Desktop/wecare/src/components/ImageUploader.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nconst UploaderContainer = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst UploadLabel = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n`;\n\nconst UploadArea = styled.div`\n  border: 2px dashed #ddd;\n  border-radius: 8px;\n  padding: 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background-color: #f9f9f9;\n  \n  &:hover {\n    border-color: var(--primary-color);\n    background-color: #f0f0f0;\n  }\n`;\n\nconst UploadInput = styled.input`\n  display: none;\n`;\n\nconst UploadText = styled.p`\n  margin: 0;\n  color: var(--text-secondary);\n`;\n\nconst ImagePreviewContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-top: 15px;\n`;\n\nconst ImagePreview = styled.div`\n  position: relative;\n  width: 100px;\n  height: 100px;\n  border-radius: 4px;\n  overflow: hidden;\n`;\n\nconst PreviewImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n`;\n\nconst RemoveButton = styled.button`\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 12px;\n  padding: 0;\n  line-height: 1;\n  \n  &:hover {\n    background-color: rgba(0, 0, 0, 0.7);\n  }\n`;\n\nfunction ImageUploader({ onChange, maxImages = 5, label }) {\n  const { t } = useTranslation();\n  const [images, setImages] = useState([]);\n  \n  // 如果没有提供label，则使用默认的翻译\n  const imageLabel = label || t('imageUploader.uploadImage');\n  \n  const handleImageChange = (e) => {\n    const files = Array.from(e.target.files);\n    \n    if (images.length + files.length > maxImages) {\n      alert(`最多只能上传${maxImages}张图片`);\n      return;\n    }\n    \n    const newImages = files.map(file => ({\n      file,\n      preview: URL.createObjectURL(file)\n    }));\n    \n    const updatedImages = [...images, ...newImages];\n    setImages(updatedImages);\n    \n    if (onChange) {\n      onChange(updatedImages.map(img => img.file));\n    }\n  };\n  \n  const removeImage = (index) => {\n    const updatedImages = [...images];\n    URL.revokeObjectURL(updatedImages[index].preview);\n    updatedImages.splice(index, 1);\n    setImages(updatedImages);\n    \n    if (onChange) {\n      onChange(updatedImages.map(img => img.file));\n    }\n  };\n  \n  return (\n    <UploaderContainer>\n      <UploadLabel>{label}</UploadLabel>\n      <UploadArea>\n        <UploadInput \n          type=\"file\" \n          id=\"image-upload\" \n          accept=\"image/*\" \n          multiple \n          onChange={handleImageChange} \n        />\n        <UploadText>点击或拖拽图片到此处上传 (最多{maxImages}张)</UploadText>\n      </UploadArea>\n      \n      {images.length > 0 && (\n        <ImagePreviewContainer>\n          {images.map((image, index) => (\n            <ImagePreview key={index}>\n              <PreviewImage src={image.preview} alt={`预览图 ${index + 1}`} />\n              <RemoveButton onClick={() => removeImage(index)}>×</RemoveButton>\n            </ImagePreview>\n          ))}\n        </ImagePreviewContainer>\n      )}\n    </UploaderContainer>\n  );\n}\n\nexport default ImageUploader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}